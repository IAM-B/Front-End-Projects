<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style id="varCss">
      body.theme-transition {
        transition: background-color 0.3s ease;
      }
    </style>

    <input type="range" id="theme-slider" min="0" max="100" value="50" />

    <script>
      const rangeInput = document.getElementById("theme-slider");
      const body = document.body;

      rangeInput.addEventListener("input", () => {
        const max = rangeInput.max > 0 ? rangeInput.max : 100;
        const progress = rangeInput.value / rangeInput.max;

        const couleurFondClair = [241, 239, 228];
        const couleurTexteClair = [76, 42, 2];
        const couleurPrincipaleClair = [191, 155, 48];

        const couleurFondSombre = [34, 34, 34];
        const couleurTexteSombre = [255, 255, 255];
        const couleurPrincipaleSombre = [182, 140, 14];

        const couleurFond = interpolateColors(
          couleurFondClair,
          couleurFondSombre,
          progress
        );

        body.classList.add("theme-transition");
        body.style.backgroundColor = `rgb(${couleurFond.join(", ")})`;

        // Mettre Ã  jour les variables CSS dans le style tag
        const varCss = document.getElementById("varCss");
        varCss.innerHTML = `
            :root {
              --couleur-fond-clair: rgb(${couleurFondClair.join(", ")});
              --couleur-texte-clair: rgb(${couleurTexteClair.join(", ")});
              --couleur-principale-clair: rgb(${couleurPrincipaleClair.join(
                ", "
              )});
              --couleur-fond-sombre: rgb(${couleurFondSombre.join(", ")});
              --couleur-texte-sombre: rgb(${couleurTexteSombre.join(", ")});
              --couleur-principale-sombre: rgb(${couleurPrincipaleSombre.join(
                ", "
              )});
            }
          `;
      });

      function interpolateColors(color1, color2, progress) {
        const r = Math.round(color1[0] + (color2[0] - color1[0]) * progress);
        const g = Math.round(color1[1] + (color2[1] - color1[1]) * progress);
        const b = Math.round(color1[2] + (color2[2] - color1[2]) * progress);

        return [r, g, b];
      }
    </script>
  </body>
</html>
